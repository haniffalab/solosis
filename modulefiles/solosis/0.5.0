#%Module

##
## Solosis modulefile
##

proc ModulesHelp { } {
    puts stderr "This module add Solosis to your path"
}

module-whatis "This module add Solosis to your path\n"

if {[module-info mode load]} {
	puts stderr "** INFO: 'Welcome to Solosis, Module loaded'"
    puts stderr "** INFO: 'Type solosis-cli to get started'"
}

module load cellgen/conda
module load cellgen/irods

if {![info exists env(LSB_DEFAULT_USERGROUP)]} {
    setenv LSB_DEFAULT_USERGROUP team298
}

setenv SOLOSIS_BASE /software/cellgen/team298/shared/solosis/0.5.0
setenv TEAM_DATA_DIR /lustre/scratch124/cellgen/haniffa/data
setenv TEAM_SAMPLE_DIR /lustre/scratch124/cellgen/haniffa/data/samples

setfacl -d -m g::rwX $env(TEAM_SAMPLE_DIR)
setfacl -d -m o::rX $env(TEAM_SAMPLE_DIR)

prepend-path PATH $env(SOLOSIS_BASE)

